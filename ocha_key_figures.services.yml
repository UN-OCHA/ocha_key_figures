services:
  ocha_key_figures.webhook_controller:
    class: \Drupal\ocha_key_figures\Controller\WebhookController
    arguments: ['@logger.factory', '@entity_type.manager', '@event_dispatcher']

  ocha_key_figures.key_figures_controller:
    class: \Drupal\ocha_key_figures\Controller\BaseKeyFiguresController
    arguments: ['@http_client', '@ocha_key_figures.cache']

  ocha_key_figures.cache:
    class: Drupal\Core\Cache\CacheBackendInterface
    tags:
      - { name: cache.bin, default_backend: cache.backend.permanent_database }
    factory: cache_factory:get
    arguments: [keyfigures]
